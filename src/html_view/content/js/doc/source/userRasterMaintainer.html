<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    
  <title>The source code</title>
    <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
</head>
<body  onload="prettyPrint();">
    <pre class="prettyprint lang-js">ï»¿Ext.ns("Phi.view.window");

Phi.view.window.UserRasterMaintainer = Ext.extend(Ext.Window, {
    width: 400,
    height: 500,
    closeAction: 'close',
    maximizable: false,
    modal: false,
    plain: true,
    layout: 'border',
    userNames: null,

    initComponent: function () {

        this.tree = new Phi.view.tree.UserRaster({
            region: 'center',
            userNames: this.userNames
        });
       
        this.items = [this.tree];

        Phi.view.window.UserRasterMaintainer.superclass.initComponent.call(this);

        this.addButton(Phi.Global.For('Save'), this.update, this);
        this.addButton(Phi.Global.For('Cancel'), this.close, this);
    }
    ,
    update: function () {
        var ids = this.tree.getCheckedIds();
        var requestUser = Phi.Session.getUser();
        
        var user = new Phi.model.User();
        user.on('updaterasterscollection',  function () {
            Phi.Util.popupMessage('User raster Updated');
        }, this);
        user.updateRasterCollection(this.userNames, ids, requestUser);
    }
});</pre>    
</body>
</html>